{% extends "base.html" %}
{% block content %}
<div class="mt-3 ml-28">
    <table class="table-auto bg-green-200 bg-opacity-50 justify-center w-full display" id="table_id">
        <thead>
          <tr class="spacer">
            <th>Message</th>
            <th>Time-Stamp</th>
          </tr>
        </thead>
        <tbody>
            {% for data in dbData %}
          <tr>
              <td>{{data['message']}}</td>
              <td>{{data['time-stamp']}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
</div>
<div class="mt-3 ml-28 mr-4">
    <button class="p-2 pl-5 pr-5 bg-transparent border-2 border-blue-500 text-blue-500 text-lg rounded-lg hover:bg-blue-500 hover:text-gray-100 focus:border-4 focus:border-blue-300" onclick="window.location.href='{{ url_for('dbDisplay', userID=userID, CTName=CTName, topic=topic)}}';">
      String View
    </button>
    {% if isJson == True %}
    <button class="ml-6 p-2 pl-5 pr-5 bg-transparent border-2 border-blue-500 text-blue-500 text-lg rounded-lg hover:bg-blue-500 hover:text-gray-100 focus:border-4 focus:border-blue-300" onclick="window.location.href='{{url_for('dbDisplayJson', userID=userID, CTName=CTName, topic=topic)}}';">
      Json View
    </button>
    {% else %}
    <button class="ml-6 p-2 pl-5 pr-5 bg-transparent border-2 border-red-500 text-red-500 text-lg rounded-lg hover:bg-red-500 hover:text-gray-100 focus:border-4 focus:border-red-300" onclick="window.location.href='{{url_for('dbDisplayJson', userID=userID, CTName=CTName, topic=topic)}}';" disabled>
      Json View
    </button>
    {% endif %}
    <button class="ml-6 p-2 pl-5 pr-5 bg-transparent border-2 border-green-500 text-green-500 text-lg rounded-lg hover:bg-green-500 hover:text-gray-100 focus:border-4 focus:border-green-300" onclick="window.location.href='{{url_for('dbDownloadString', userID=userID, CTName=CTName, topic=topic)}}';">
      Download
    </button>

  </div>
<script>
    $(document).ready( function () {
    $('#table_id').DataTable();
} );
</script>
{% endblock %}